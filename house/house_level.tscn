[gd_scene load_steps=11 format=3 uid="uid://iqi84ubpi75g"]

[ext_resource type="PackedScene" uid="uid://b05xjcdekdfsr" path="res://player/player_scene.tscn" id="1_hfhkx"]
[ext_resource type="Script" path="res://game_logic/full_screen_toggle.gd" id="1_syb8m"]
[ext_resource type="PackedScene" uid="uid://vvqbghewn24k" path="res://house/props/door/props_door.tscn" id="4_rmfs8"]
[ext_resource type="MeshLibrary" uid="uid://imce5q0k6kvs" path="res://house/static_geo/LevelTileSet.tres" id="5_07h7j"]
[ext_resource type="Resource" uid="uid://c4bhtbh88otyh" path="res://house/props/items/keys/test_key.tres" id="5_2480e"]
[ext_resource type="PackedScene" uid="uid://bcs1w5nbhjj5h" path="res://house/props/items/keys/test_key.tscn" id="6_32aij"]
[ext_resource type="PackedScene" uid="uid://053j4rfg8srd" path="res://house/props/piano/props_piano_entity.tscn" id="7_nlu80"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_5qdpv"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0.5, 0.5, 0.5, 1)
sky_energy_multiplier = 0.0
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0.5, 0.5, 0.5, 1)

[sub_resource type="Sky" id="Sky_lx1vo"]
sky_material = SubResource("ProceduralSkyMaterial_5qdpv")

[sub_resource type="Environment" id="Environment_4cm1w"]
background_mode = 1
sky = SubResource("Sky_lx1vo")
tonemap_mode = 2
ssao_enabled = true
ssao_radius = 10.0
ssao_intensity = 16.0
ssao_horizon = 0.16
ssao_sharpness = 0.17

[node name="LevelOrigin" type="Node3D"]
script = ExtResource("1_syb8m")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4cm1w")

[node name="player" parent="." instance=ExtResource("1_hfhkx")]
transform = Transform3D(0.999582, 0, 0.0289157, 0, 1, 0, -0.0289157, 0, 0.999582, -0.214655, 2.40502, 2.76989)

[node name="OmniLight3D" type="OmniLight3D" parent="player"]
transform = Transform3D(0.130665, 0, -0.991426, 0, 1, 0, 0.991426, 0, 0.130665, -0.0342009, 0.506808, 0.0045075)
light_energy = 0.2
light_indirect_energy = 0.5
light_specular = 0.0
omni_range = 8.0
omni_attenuation = 3.24901

[node name="BasementFloor" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 9.53674e-07)
mesh_library = ExtResource("5_07h7j")
cell_size = Vector3(1, 2.4, 1)
data = {
"cells": PackedInt32Array(-2, 65529, 1048583, -4, 65529, 655367, -3, 65530, 1441799, -2, 65530, 1441799, -1, 65531, 655367, -65536, 65531, 7, -65535, 65530, 1441799, -1, 65529, 1048583, -65536, 65529, 1048583, -65535, 65529, 1048583, -1, 65532, 655367, -65536, 65532, 7, -65534, 65530, 1441799, -65533, 65530, 1441799, -65532, 65530, 1441799, -65531, 65530, 1441799, -65530, 65531, 655367, -65530, 65532, 655367, -65529, 65532, 7, -65529, 65531, 7, -3, 65529, 13, -4, 65530, 1441801, -1, 65530, 655373, -65536, 65530, 1441805, -4, 65526, 655371, -4, 65528, 655371, -4, 65527, 655371, -3, 65525, 1048585, -3, 65526, 7, -3, 65527, 7, -3, 65528, 7, -65532, 65529, 1048583, -65531, 65529, 1048583, -65534, 65529, 1048598, -65533, 65528, 1441814, -65533, 65529, 1048599, -65534, 65528, 1441815, -1, 65533, 655383, -2, 65534, 23, -2, 65533, 22, -1, 65534, 655382, -65529, 65529, 1048585, -65530, 65529, 1048583, -65529, 65530, 7, -65530, 65530, 655373, -65536, 65528, 1441801, -65536, 65525, 655369, -65531, 65525, 1048585, -65531, 65528, 9, -65535, 65525, 1048583, -65534, 65525, 1048583, -65533, 65525, 1048583, -65532, 65525, 1048583, -65531, 65526, 7, -65531, 65527, 7, -65532, 65528, 1441799, -65535, 65528, 1441799, -65536, 65527, 655367, -65536, 65526, 655367, -65535, 65526, 655368, -65534, 65526, 655368, -65533, 65526, 655368, -65532, 65526, 655368, -65532, 65527, 655368, -65533, 65527, 655368, -65534, 65527, 655368, -65535, 65527, 655368, -1, 65535, 1441801, -65536, 65535, 9, -2, 65532, 1048585, -4, 65532, 655369, -4, 65535, 1441801, -2, 65535, 9, -65535, 65535, 1441801, -65535, 65532, 655369, -65531, 65532, 1048585, -65531, 65535, 9, -65530, 65535, 1441801, -65529, 65535, 9, -65528, 65535, 1441801, -65528, 65532, 655369, -65526, 65532, 1048585, -65526, 65535, 9, -65532, 65535, 1441799, -65533, 65535, 1441799, -65534, 65535, 1441799, -65534, 65532, 1048583, -65533, 65532, 1048583, -65532, 65532, 1048583, -65527, 65532, 1048583, -65526, 65533, 7, -65526, 65534, 7, -65527, 65535, 1441799, -65536, 65533, 22, -65535, 65534, 655382, -65531, 65533, 22, -65530, 65534, 655382, -65529, 65533, 22, -65528, 65534, 655382, -65528, 65533, 655383, -65529, 65534, 23, -65530, 65533, 655383, -65531, 65534, 23, -65535, 65533, 655383, -65536, 65534, 23, -65534, 65533, 8, -65533, 65533, 8, -65532, 65533, 8, -65532, 65534, 8, -65533, 65534, 8, -65534, 65534, 8, -65527, 65533, 8, -65527, 65534, 8, -3, 65533, 8, -3, 65534, 8, -3, 65532, 1048583, -4, 65533, 655367, -4, 65534, 655367, -3, 65535, 1441799, -4, 65525, 655369)
}
metadata/_editor_floor_ = Vector3(0, -1, 0)

[node name="GroundFloor" type="GridMap" parent="."]
mesh_library = ExtResource("5_07h7j")
cell_size = Vector3(1, 2.4, 1)
data = {
"cells": PackedInt32Array(65535, 0, 1, 65535, 1, 1, 0, 1, 1, 65535, 2, 1441793, 0, 2, 1441793, 65535, 65535, 655390, 0, 65535, 1441822, 65534, 65534, 655365, 65534, 65533, 655365, 65534, 65532, 655365, 1, 65535, 5, 1, 65534, 5, 1, 65533, 5, 0, 65534, 30, 65535, 65534, 30, 65535, 65533, 30, 0, 65533, 30, 65535, 65532, 30, 1, 65530, 1441792, 0, 65530, 1441792, 2, 65529, 1048576, 3, 65529, 1048576, 2, 65530, 1441792, 3, 65530, 1441792, 4, 65530, 1441792, 4, 65529, 1048576, 5, 65529, 1048576, 0, 65532, 30, 6, 65529, 1048596, 7, 65534, 1441822, 7, 65535, 1441822, 7, 65529, 1048597, 3, 65531, 1048576, 2, 65532, 655360, 2, 65533, 655360, 2, 65531, 655362, 3, 65532, 1048577, 3, 65533, 1048577, 8, 65529, 1048578, 8, 65530, 0, 8, 65531, 0, 8, 65532, 0, 8, 65533, 0, 8, 65534, 5, 8, 65535, 5, 4, 65531, 1048576, 5, 65534, 0, 5, 65530, 1441792, 4, 65532, 655361, 4, 65533, 655361, 4, 65534, 655361, 3, 65534, 655361, 65530, 65534, 1048576, 65530, 65533, 1441792, 65530, 65529, 1048576, 65534, 65528, 1441794, 65534, 65525, 655362, 3, 65525, 1048578, 3, 65528, 2, 4, 65528, 1441794, 4, 65525, 655362, 8, 65525, 1048578, 8, 65528, 2, 65531, 65529, 1048576, 65530, 65530, 1048577, 65530, 65531, 1048577, 65530, 65532, 1048577, 65530, 65535, 1048577, 65530, 0, 1048577, 65530, 1, 1048577, 65531, 2, 1441792, 65535, 65525, 1048576, 0, 65525, 1048576, 1, 65525, 1048576, 2, 65525, 1048576, 5, 65525, 1048576, 6, 65525, 1048576, 7, 65525, 1048576, 8, 65526, 0, 8, 65527, 0, 5, 65528, 1441792, 2, 65528, 1441792, 6, 65528, 1441813, 7, 65528, 1441812, 3, 65526, 20, 4, 65527, 655380, 3, 65527, 21, 4, 65526, 655381, 5, 65527, 655361, 6, 65527, 655361, 7, 65527, 655361, 7, 65526, 655361, 6, 65526, 655361, 5, 65526, 655361, 65534, 65527, 655380, 65533, 65527, 23, 65534, 65526, 655381, 2, 65527, 655361, 2, 65526, 655361, 1, 65526, 655361, 0, 65526, 655361, 65535, 65526, 655361, 65535, 65527, 655361, 0, 65527, 655361, 1, 65527, 655361, 65531, 65530, 1441793, 65531, 65532, 1441793, 65531, 65531, 1441793, 65531, 65535, 1441793, 65531, 1, 1441793, 65531, 0, 1441793, 65533, 65526, 22, 65533, 65525, 1048585, 65533, 65528, 9, 65532, 65525, 655369, 65532, 65526, 655370, 65532, 65527, 655370, 65532, 65528, 1441816, 8, 0, 15, 0, 0, 1, 65534, 3, 1441794, 1, 3, 2, 0, 3, 1441812, 65535, 3, 1441813, 1, 1, 20, 2, 2, 655380, 1, 2, 21, 2, 1, 655381, 2, 3, 1441794, 5, 3, 2, 2, 65535, 1441794, 2, 0, 655362, 5, 0, 1048578, 5, 65535, 2, 2, 65534, 655360, 5, 1, 0, 5, 2, 0, 4, 3, 1441792, 3, 3, 1441792, 3, 0, 1048596, 4, 65535, 1441812, 4, 0, 1048597, 3, 65535, 1441813, 4, 1, 1441793, 4, 2, 1441793, 3, 2, 1441793, 3, 1, 1441793, 65529, 2, 1441794, 65529, 65534, 655362, 65529, 65533, 1441794, 65529, 65529, 655362, 65532, 65530, 1441793, 65532, 0, 1441793, 65532, 65531, 1441793, 65532, 1, 1441793, 65529, 1, 655360, 65529, 0, 655360, 65529, 65535, 655360, 65530, 2, 1441792, 65529, 65532, 655360, 65529, 65531, 655360, 65529, 65530, 655360, 65532, 65532, 1441793, 65532, 65535, 1441793, 1, 65532, 5, 1, 65531, 1048591, 0, 65531, 1048581, 65535, 65530, 1441795, 65535, 65531, 17, 65534, 65531, 655365, 65534, 2, 655360, 65534, 1, 655360, 65533, 2, 2, 65533, 65534, 1048578, 65533, 65533, 2, 65533, 65529, 1048578, 65532, 65529, 1048576, 65532, 2, 1441792, 65532, 65534, 1048576, 65532, 65533, 1441792, 65533, 65531, 0, 65533, 65532, 0, 65533, 1, 0, 65534, 65529, 655362, 1, 65529, 1048597, 0, 65528, 1441813, 1, 65528, 1441812, 0, 65529, 1048596, 65535, 65529, 1048576, 65535, 65528, 1441792, 65534, 65535, 655399, 65533, 0, 21, 65533, 65535, 20, 5, 65532, 41, 5, 65531, 1048578, 6, 65533, 655360, 6, 65531, 655360, 5, 65533, 0, 6, 65530, 655363, 7, 65530, 655361, 7, 65531, 655361, 7, 65532, 655361, 7, 65533, 655361, 6, 65532, 655401, 6, 65534, 655365, 6, 65535, 655365, 6, 0, 1441807, 7, 0, 1441797, 65531, 65534, 1048617, 65531, 65533, 1441833, 65534, 65530, 655401, 65533, 65530, 41, 1, 0, 0, 65534, 0, 655380)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="MainStairsTemp" type="CSGBox3D" parent="GroundFloor"]
transform = Transform3D(1, 0, 0, 0, 0.854803, -0.518952, 0, 0.518952, 0.854803, 1.14474, 2.45, -2.97776)
use_collision = true
size = Vector3(1.5, 0.2, 4.5)

[node name="BasementStairsTemp" type="CSGBox3D" parent="GroundFloor"]
transform = Transform3D(1, 0, 0, 0, 0.747427, -0.664343, 0, 0.664343, 0.747427, -3.45836, -0.0242031, -8.65431)
use_collision = true
size = Vector3(0.9, 0.2, 3.8)

[node name="OtherStairsTemp" type="CSGBox3D" parent="GroundFloor"]
transform = Transform3D(1, 0, 0, 0, 0.844337, 0.535812, 0, -0.535812, 0.844337, 6.71377, 1.8834, -1.10456)
use_collision = true
size = Vector3(1.2, 0.2, 2.5)

[node name="OtherStairsTemp2" type="CSGBox3D" parent="GroundFloor"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 7.47516, 2.5425, 0.392172)
use_collision = true
size = Vector3(1, 0.2, 2.8)

[node name="OtherStairsTemp3" type="CSGBox3D" parent="GroundFloor"]
transform = Transform3D(-1, 4.68435e-08, -7.38135e-08, 6.29617e-09, 0.880726, 0.473627, 8.71958e-08, 0.473627, -0.880726, 8.28753, 3.02381, -0.970483)
use_collision = true
size = Vector3(1.2, 0.2, 2.5)

[node name="MainEntryDoor" parent="GroundFloor" instance=ExtResource("4_rmfs8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.502412, 1.3, 3.94169)
door_status = 2

[node name="Door1" parent="GroundFloor" instance=ExtResource("4_rmfs8")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 2.0187, 1.29522, 2.49572)
door_status = 1
RequiredItem = ExtResource("5_2480e")

[node name="FirstFloor" type="GridMap" parent="."]
mesh_library = ExtResource("5_07h7j")
cell_size = Vector3(1, 2.4, 1)
data = {
"cells": PackedInt32Array(65544, 0, 14, 65544, 65525, 1048578, 65544, 65535, 4, 65544, 65534, 4, 65543, 65534, 1048592, 65544, 65533, 0, 65544, 65532, 0, 65544, 65531, 0, 65544, 65530, 0, 65544, 65529, 0, 65544, 65528, 0, 65544, 65527, 0, 65544, 65526, 0, 65538, 65533, 1, 65538, 65534, 1, 65538, 65531, 1, 65537, 65531, 1048607, 65536, 65531, 1048607, 131071, 65531, 1048607, 131070, 65531, 31, 131071, 65532, 1441823, 131071, 65533, 1441823, 131071, 65534, 1441823, 131071, 65535, 1441796, 65536, 65535, 1441796, 65537, 65535, 1441796, 131069, 65535, 1441793, 131069, 65534, 1441793, 131069, 65533, 1441793, 131069, 65531, 1441793, 131069, 2, 2, 131069, 0, 0, 131069, 1, 0, 131068, 2, 1441794, 131068, 1, 655380, 131067, 0, 20, 131068, 0, 655381, 131067, 1, 21, 131067, 2, 2, 131064, 2, 1441794, 131064, 65534, 655362, 131067, 65534, 1048578, 131064, 65533, 1441794, 131067, 65533, 2, 131064, 65529, 655362, 131067, 65529, 1048578, 131068, 65531, 655381, 131067, 65532, 21, 131067, 65531, 20, 131066, 65533, 1441812, 131065, 65534, 1048596, 131066, 65534, 1048597, 131065, 65533, 1441813, 131066, 2, 1441792, 131065, 2, 1441792, 131064, 1, 655360, 131064, 0, 655360, 131064, 65535, 655360, 131064, 65532, 655360, 131064, 65531, 655360, 131064, 65530, 655360, 131065, 65529, 1048576, 131066, 65529, 1048576, 131067, 65530, 0, 131067, 65535, 0, 131068, 65535, 655360, 131068, 65534, 655360, 131068, 65533, 655360, 131066, 65532, 655361, 131066, 65531, 655361, 131066, 65530, 655361, 131065, 65530, 655361, 131065, 65531, 655361, 131065, 65532, 655361, 131065, 65535, 655361, 131066, 65535, 655361, 131066, 0, 655361, 131066, 1, 655361, 131065, 1, 655361, 131065, 0, 655361, 131069, 65530, 1, 131070, 65530, 1, 131071, 65530, 1, 65536, 65529, 1048597, 65536, 65530, 1, 65537, 65530, 1, 65538, 65530, 1, 65539, 65534, 0, 65538, 65532, 1, 131070, 65532, 31, 131070, 65533, 31, 131070, 65534, 31, 131070, 65535, 1441796, 131070, 0, 655364, 131070, 1, 655364, 131070, 2, 655364, 131069, 65532, 1441793, 131068, 65532, 655380, 131068, 65529, 655362, 131069, 65529, 1048576, 131070, 65529, 1048576, 65537, 65529, 1048576, 65538, 65529, 1048579, 131068, 65530, 655360, 65539, 65530, 0, 65539, 65529, 0, 65543, 65533, 655360, 65543, 65532, 655360, 65543, 65531, 655360, 65543, 65530, 655360, 65543, 65529, 655380, 65543, 65528, 655381, 65543, 65527, 655360, 65543, 65525, 1048576, 65542, 65525, 1048576, 65541, 65525, 1048576, 65540, 65525, 1048576, 65539, 65525, 1048576, 65538, 65526, 655360, 65538, 65527, 655360, 65538, 65528, 655360, 65539, 65528, 0, 65539, 65527, 0, 65540, 65526, 1441792, 65541, 65526, 1441792, 65542, 65526, 1441792, 65543, 65526, 655363, 65539, 65526, 1441795, 65538, 65525, 655362, 65542, 65529, 21, 65542, 65528, 20, 65542, 65527, 1048578, 65540, 65527, 655362, 65542, 65532, 0, 65542, 65531, 0, 65542, 65530, 0, 65540, 65530, 655360, 65540, 65529, 655360, 65540, 65528, 655360, 65541, 65527, 1048576, 65541, 65528, 1048577, 65541, 65529, 1048577, 65541, 65530, 1048577, 65541, 65531, 1048577, 131064, 65528, 1441794, 131064, 65525, 655362, 65537, 65525, 1048578, 65537, 65528, 2, 131068, 65528, 2, 131068, 65525, 1048578, 131069, 65525, 655362, 131069, 65528, 1441794, 131068, 65527, 21, 131069, 65526, 655381, 131071, 65528, 1441813, 65536, 65528, 1441812, 131071, 65529, 1048596, 131069, 65527, 655380, 131068, 65526, 20, 65537, 65527, 0, 65537, 65526, 0, 65536, 65525, 1048576, 131071, 65525, 1048576, 131070, 65525, 1048576, 131070, 65528, 1441792, 131067, 65528, 1441792, 131066, 65528, 1441792, 131065, 65528, 1441792, 131064, 65527, 655360, 131064, 65526, 655360, 131065, 65525, 1048576, 131066, 65525, 1048576, 131067, 65525, 1048576, 65536, 65526, 1048577, 131071, 65526, 1048577, 131070, 65526, 1048577, 131070, 65527, 1048577, 131071, 65527, 1048577, 65536, 65527, 1048577, 131067, 65526, 1048577, 131066, 65526, 1048577, 131065, 65526, 1048577, 131065, 65527, 1048577, 131066, 65527, 1048577, 131067, 65527, 1048577, 65543, 0, 1441796, 65542, 65535, 655364, 65543, 65535, 1441823, 65542, 0, 1441806, 65542, 65534, 655374, 65542, 65533, 2, 65540, 65533, 1441794, 65539, 65533, 0, 65541, 65533, 1441792, 65541, 65532, 1441793, 65540, 65531, 655381, 65539, 65532, 21, 65540, 65532, 655380, 65539, 65531, 20, 65539, 65535, 2, 65538, 65535, 1441792, 65536, 65534, 655391, 65536, 65533, 655391, 65536, 65532, 655391, 65537, 65533, 655391, 65537, 65532, 655391, 65537, 65534, 655391)
}
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="TestKey" parent="." instance=ExtResource("6_32aij")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.44088, 2.34919, 0.366751)

[node name="Piano" parent="." instance=ExtResource("7_nlu80")]
transform = Transform3D(-0.0335564, 0, 0.999437, 0, 1, 0, -0.999437, 0, -0.0335564, -1.52996, 1.3, 1.68678)
